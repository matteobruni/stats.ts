<!doctype html>
<html>
  <head>
    <title>stats.ts - tsParticles example</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>

  <body>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/all@4.0.0-alpha.25/tsparticles.all.bundle.min.js"></script>
    <script src="../dist/stats.min.js"></script>
    <script>
      const stats = new Stats();
      let maxParticles = 0;

      stats.addPanel("p", "#7777ff", 0, () => {
        const container = tsParticles.item(0);

        if (container) {
          maxParticles = Math.max(container.particles.count, maxParticles);

          return {
            value: container.particles.count,
            maxValue: maxParticles,
          };
        }
      });

      stats.showPanel(2);

      document.body.appendChild(stats.dom);

      const canvas = document.createElement("canvas");

      canvas.width = 512;
      canvas.height = 512;

      document.body.appendChild(canvas);

      const context = canvas.getContext("2d");

      context.fillStyle = "rgba(127,0,255,0.05)";

      function animate() {
        const time = performance.now() / 1000;

        stats.begin();
        stats.end();

        requestAnimationFrame(animate);
      }

      animate();

      (async (engine) => {
        await loadAll(engine);

        await engine.load({
          options: {
            background: {
              color: "#000000",
            },
            particles: {
              number: {
                value: 200,
                density: {
                  enable: true,
                },
              },
              color: {
                value: "#ff0000",
                animation: {
                  enable: true,
                  speed: 20,
                  sync: true,
                },
              },
              shape: {
                type: "circle",
              },
              opacity: {
                value: 0.5,
              },
              size: {
                value: { min: 1, max: 3 },
              },
              links: {
                enable: true,
                distance: 150,
                color: "#ffffff",
                opacity: 0.4,
                width: 1,
              },
              move: {
                enable: true,
                speed: 6,
              },
            },
            interactivity: {
              events: {
                onHover: {
                  enable: true,
                  mode: "trail",
                },
              },
              modes: {
                trail: {
                  delay: 0,
                  quantity: 20,
                  particles: {
                    color: {
                      value: "#00ff00",
                      animation: {
                        enable: true,
                        speed: 720,
                        sync: true,
                      },
                    },
                    links: {
                      enable: false,
                    },
                    life: {
                      duration: {
                        value: 1,
                      },
                      count: 1,
                    },
                    move: {
                      outMode: "destroy",
                    },
                    size: {
                      random: true,
                      value: 3,
                    },
                  },
                },
              },
            },
          },
        });
      })(tsParticles);
    </script>
  </body>
</html>
